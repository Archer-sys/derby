<Title:>
  Gallery

<Header:>
  <app:alert>

<Body:>
  <div>
    <div id=lightbox>
      {#if _image}
        <app:photo source="{{source}}" size="m" data="{this}">
      {/}
      {#if _imagePrevious}
        <app:photo source="{{source}}" size="m" data="{this}">
      {/}
    </div>
  </div>
  <div>
    {#each _pages}
      <div>
        {#each this}
          <a x-bind="click: select">
            <app:photo source="{{source}}" data="{{this}}">
          </a>
        {/}
      </div>
    {/}
  </div>

<photo:>
  <img
    alt="{{{data.title}}}"
    src="{{{photoSrc(data, source, size)}}}"
    width="{{{photoWidth(data, source, size)}}}"
    height="{{{photoHeight(data, source, size)}}}"
  >

<alert:>
  <div id="alert">
    {#unless connected}
      <p>
        {#if canConnect}
          Offline 
          {#if _showReconnect}&ndash; <a x-bind="click: connect">Reconnect</a>{/}
        {else}
          Unable to reconnect &ndash; <a x-bind="click: reload">Reload</a>
        {/}
      </p>
    {/}
  </div>
